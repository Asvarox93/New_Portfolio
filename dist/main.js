"use strict";
"use strict";
"use strict";
"use strict";
"use strict";$(".contact-form").submit(function(t){$.ajax({type:"POST",url:"contact-form-sender.php",data:$(".contact-form").serialize(),success:function(t){0==t?$(".contact-form-alert").html('<div class="alert alert-danger" role="alert">Coś poszło nie tak! Proszę sprawdzić formularz.</div>'):2==t?$(".contact-form-alert").html('<div class="alert alert-danger" role="alert">Coś poszło nie tak! Proszę spróbować pożniej.</div>'):1==t&&($(".contact-form-alert").html('<div class="alert alert-success" role="alert">Wiadomość została wysłana pomyślnie!</div>'),$(".contact-form").trigger("reset"),$(".contact-form-alert").fadeOut(4e3,function(){$(".contact-form-alert").hide()}))}}),t.preventDefault()});
"use strict";
"use strict";
"use strict";
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};$(window).on("load",function(){$(".spinner-wrapper").fadeOut(500)}),function(){var u,l,c,a,o={frameRate:150,animationTime:400,stepSize:100,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,fixedBackground:!0,excluded:""},w=o,s=!1,d=!1,n={x:0,y:0},f=!1,m=document.documentElement,i=[],h=/^Mac/.test(navigator.platform),p={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},y={37:1,38:1,39:1,40:1};function v(){if(!f&&document.body){f=!0;var e=document.body,t=document.documentElement,o=window.innerHeight,n=e.scrollHeight;if(m=0<=document.compatMode.indexOf("CSS")?t:e,u=e,w.keyboardSupport&&Y("keydown",x),top!=self)d=!0;else if(Q&&o<n&&(e.offsetHeight<=o||t.offsetHeight<=o)){var r,a=document.createElement("div");a.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+m.scrollHeight+"px",document.body.appendChild(a),c=function(){r=r||setTimeout(function(){s||(a.style.height="0",a.style.height=m.scrollHeight+"px",r=null)},500)},setTimeout(c,10),Y("resize",c);if((l=new R(c)).observe(e,{attributes:!0,childList:!0,characterData:!1}),m.offsetHeight<=o){var i=document.createElement("div");i.style.clear="both",e.appendChild(i)}}w.fixedBackground||s||(e.style.backgroundAttachment="scroll",t.style.backgroundAttachment="scroll")}}var b=[],g=!1,r=Date.now();function S(f,m,h){if(function(e,t){e=0<e?1:-1,t=0<t?1:-1,n.x===e&&n.y===t||(n.x=e,n.y=t,b=[],r=0)}(m,h),1!=w.accelerationMax){var e=Date.now()-r;if(e<w.accelerationDelta){var t=(1+50/e)/2;1<t&&(t=Math.min(t,w.accelerationMax),m*=t,h*=t)}r=Date.now()}if(b.push({x:m,y:h,lastX:m<0?.99:-.99,lastY:h<0?.99:-.99,start:Date.now()}),!g){var o=q(),p=f===o||f===document.body;null==f.$scrollBehavior&&function(e){var t=M(e);if(null==B[t]){var o=getComputedStyle(e,"")["scroll-behavior"];B[t]="smooth"==o}return B[t]}(f)&&(f.$scrollBehavior=f.style.scrollBehavior,f.style.scrollBehavior="auto");j(function e(t){for(var o=Date.now(),n=0,r=0,a=0;a<b.length;a++){var i=b[a],l=o-i.start,c=l>=w.animationTime,u=c?1:l/w.animationTime;w.pulseAlgorithm&&(u=V(u));var s=i.x*u-i.lastX>>0,d=i.y*u-i.lastY>>0;n+=s,r+=d,i.lastX+=s,i.lastY+=d,c&&(b.splice(a,1),a--)}p?window.scrollBy(n,r):(n&&(f.scrollLeft+=n),r&&(f.scrollTop+=r)),m||h||(b=[]),b.length?j(e,f,1e3/w.frameRate+1):(g=!1,null!=f.$scrollBehavior&&(f.style.scrollBehavior=f.$scrollBehavior,f.$scrollBehavior=null))},f,0),g=!0}}function e(e){f||v();var t=e.target;if(e.defaultPrevented||e.ctrlKey)return!0;if(A(u,"embed")||A(t,"embed")&&/\.pdf/i.test(t.src)||A(u,"object")||t.shadowRoot)return!0;var o=-e.wheelDeltaX||e.deltaX||0,n=-e.wheelDeltaY||e.deltaY||0;h&&(e.wheelDeltaX&&N(e.wheelDeltaX,120)&&(o=e.wheelDeltaX/Math.abs(e.wheelDeltaX)*-120),e.wheelDeltaY&&N(e.wheelDeltaY,120)&&(n=e.wheelDeltaY/Math.abs(e.wheelDeltaY)*-120)),o||n||(n=-e.wheelDelta||0),1===e.deltaMode&&(o*=40,n*=40);var r=z(t);return r?!!function(e){if(!e)return;i.length||(i=[e,e,e]);e=Math.abs(e),i.push(e),i.shift(),clearTimeout(a),a=setTimeout(function(){try{localStorage.SS_deltaBuffer=i.join(",")}catch(e){}},1e3);var t=120<e&&K(e);return!K(120)&&!K(100)&&!t}(n)||(1.2<Math.abs(o)&&(o*=w.stepSize/120),1.2<Math.abs(n)&&(n*=w.stepSize/120),S(r,o,n),e.preventDefault(),void C()):!d||!W||(Object.defineProperty(e,"target",{value:window.frameElement}),parent.wheel(e))}function x(e){var t=e.target,o=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==p.spacebar;document.body.contains(u)||(u=document.activeElement);var n=/^(button|submit|radio|checkbox|file|color|image)$/i;if(e.defaultPrevented||/^(textarea|select|embed|object)$/i.test(t.nodeName)||A(t,"input")&&!n.test(t.type)||A(u,"video")||function(e){var t=e.target,o=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do{if(o=t.classList&&t.classList.contains("html5-video-controls"))break}while(t=t.parentNode);return o}(e)||t.isContentEditable||o)return!0;if((A(t,"button")||A(t,"input")&&n.test(t.type))&&e.keyCode===p.spacebar)return!0;if(A(t,"input")&&"radio"==t.type&&y[e.keyCode])return!0;var r=0,a=0,i=z(u);if(!i)return!d||!W||parent.keydown(e);var l=i.clientHeight;switch(i==document.body&&(l=window.innerHeight),e.keyCode){case p.up:a=-w.arrowScroll;break;case p.down:a=w.arrowScroll;break;case p.spacebar:a=-(e.shiftKey?1:-1)*l*.9;break;case p.pageup:a=.9*-l;break;case p.pagedown:a=.9*l;break;case p.home:i==document.body&&document.scrollingElement&&(i=document.scrollingElement),a=-i.scrollTop;break;case p.end:var c=i.scrollHeight-i.scrollTop-l;a=0<c?10+c:0;break;case p.left:r=-w.arrowScroll;break;case p.right:r=w.arrowScroll;break;default:return!0}S(i,r,a),e.preventDefault(),C()}function t(e){u=e.target}var k,D,M=(k=0,function(e){return e.uniqueID||(e.uniqueID=k++)}),E={},T={},B={};function C(){clearTimeout(D),D=setInterval(function(){E=T=B={}},1e3)}function H(e,t,o){for(var n=o?E:T,r=e.length;r--;)n[M(e[r])]=t;return t}function z(e){var t=[],o=document.body,n=m.scrollHeight;do{var r=(!1?E:T)[M(e)];if(r)return H(t,r);if(t.push(e),n===e.scrollHeight){var a=L(m)&&L(o)||X(m);if(d&&O(m)||!d&&a)return H(t,q())}else if(O(e)&&X(e))return H(t,e)}while(e=e.parentElement)}function O(e){return e.clientHeight+10<e.scrollHeight}function L(e){return"hidden"!==getComputedStyle(e,"").getPropertyValue("overflow-y")}function X(e){var t=getComputedStyle(e,"").getPropertyValue("overflow-y");return"scroll"===t||"auto"===t}function Y(e,t,o){window.addEventListener(e,t,o||!1)}function $(e,t,o){window.removeEventListener(e,t,o||!1)}function A(e,t){return e&&(e.nodeName||"").toLowerCase()===t.toLowerCase()}if(window.localStorage&&localStorage.SS_deltaBuffer)try{i=localStorage.SS_deltaBuffer.split(",")}catch(e){}function N(e,t){return Math.floor(e/t)==e/t}function K(e){return N(i[0],e)&&N(i[1],e)&&N(i[2],e)}var P,j=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t,o){window.setTimeout(e,o||1e3/60)},R=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,q=(P=document.scrollingElement,function(){if(!P){var e=document.createElement("div");e.style.cssText="height:10000px;width:1px;",document.body.appendChild(e);var t=document.body.scrollTop;document.documentElement.scrollTop,window.scrollBy(0,3),P=document.body.scrollTop!=t?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(e)}return P});function _(e){var t;return((e*=w.pulseScale)<1?e-(1-Math.exp(-e)):(e-=1,(t=Math.exp(-1))+(1-Math.exp(-e))*(1-t)))*w.pulseNormalize}function V(e){return 1<=e?1:e<=0?0:(1==w.pulseNormalize&&(w.pulseNormalize/=_(1)),_(e))}var F=window.navigator.userAgent,I=/Edge/.test(F),W=/chrome/i.test(F)&&!I,U=/safari/i.test(F)&&!I,G=/mobile/i.test(F),J=/Windows NT 6.1/i.test(F)&&/rv:11/i.test(F),Q=U&&(/Version\/8/i.test(F)||/Version\/9/i.test(F)),Z=(W||U||J)&&!G,ee=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ee=!0}}))}catch(e){}var te=!!ee&&{passive:!1},oe="onwheel"in document.createElement("div")?"wheel":"mousewheel";function ne(e){for(var t in e)o.hasOwnProperty(t)&&(w[t]=e[t])}oe&&Z&&(Y(oe,e,te),Y("mousedown",t),Y("load",v)),ne.destroy=function(){l&&l.disconnect(),$(oe,e),$("mousedown",t),$("keydown",x),$("resize",c),$("load",v)},window.SmoothScrollOptions&&ne(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return ne}):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=ne:window.SmoothScroll=ne}();
"use strict";function onResize(o){var a=$(window).width(),i=$(".navigation_bar"),n=$(".navigation_menu");a<800?(n.hide(),i.show()):(n.show(),i.hide())}function onScroll(o){var i=$(document).scrollTop();i<100&&$(".navigation_scrollTop").hide(),100<i&&$(".navigation_scrollTop").show(),$(".navigation_items a").each(function(){var o=$(this);if("/"===o[0].pathname){var a=$(o.attr("href"));a.position().top-70<=i&&a.position().top+a.height()>=i?($(".navigation_items ul li a").removeClass("active"),o.addClass("active")):o.removeClass("active")}})}$(document).ready(function(){var o=$(".navigation_menu"),n=$(".navigation_bar");n.click(function(){$(this).toggleClass("navigation_bar--open"),o.toggle()}),onResize(),$(window).on("resize",onResize),$(document).on("scroll",onScroll),$('a[href^="#"]').on("click",function(o){o.preventDefault(),$(document).off("scroll"),onResize(),n.removeClass("navigation_bar--open"),$("a").each(function(){$(this).removeClass("active"),$(this).parent().removeClass("active")}),$(this).addClass("active"),$(this).parent().addClass("active");var a=this.hash,i=$(a).offset().top-70;$("html, body").stop().animate({scrollTop:i},500,"swing",function(){$(document).on("scroll",onScroll)})}),$(".navigation_scrollTop").on("click",function(o){$(".navigation_scrollTop").hide(),$('a[href="#header"]').parent().addClass("active"),$('a[href="#header"]').addClass("active")})});
"use strict";
"use strict";
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFib3V0LW1lLmpzIiwiYmlvZ3JhcGh5LmpzIiwiYmxvZy5qcyIsImNsaWVudC1yZXZpZXcuanMiLCJjb250YWN0LmpzIiwiZm9vdGVyLmpzIiwiaGVhZGVyLmpzIiwia25vd2xlZGdlLmpzIiwibWFpbi5qcyIsIm1lbnUuanMiLCJwcm9qZWN0cy5qcyIsInNraWxscy5qcyJdLCJuYW1lcyI6WyIkIiwic3VibWl0IiwiZSIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwic2VyaWFsaXplIiwiZGF0YSIsInN1Y2Nlc3MiLCJodG1sIiwidHJpZ2dlciIsImZhZGVPdXQiLCJoaWRlIiwicHJldmVudERlZmF1bHQiLCJ3aW5kb3ciLCJvbiIsImhpZGVQcmVsb2FkZXIiLCJpc0ZyYW1lIiwiZGlyZWN0aW9uIiwiaW5pdERvbmUiLCJhY3RpdmVFbGVtZW50IiwiZGVmYXVsdE9wdGlvbnMiLCJmcmFtZVJhdGUiLCJhbmltYXRpb25UaW1lIiwic3RlcFNpemUiLCJwdWxzZVNjYWxlIiwicHVsc2VOb3JtYWxpemUiLCJhY2NlbGVyYXRpb25EZWx0YSIsImFjY2VsZXJhdGlvbk1heCIsImtleWJvYXJkU3VwcG9ydCIsImFycm93U2Nyb2xsIiwiZml4ZWRCYWNrZ3JvdW5kIiwiaXNFeGNsdWRlZCIsIm9wdGlvbnMiLCJ4IiwieSIsImRvY3VtZW50RWxlbWVudCIsInJvb3QiLCJkb2N1bWVudCIsIm9ic2VydmVyIiwidGVzdCIsIm5hdmlnYXRvciIsInBsYXRmb3JtIiwiZGVsdGFCdWZmZXIiLCJsZWZ0IiwiZGVsdGFCdWZmZXJUaW1lciIsInVwIiwiaXNNYWMiLCJyaWdodCIsImRvd24iLCJrZXkiLCJzcGFjZWJhciIsInBhZ2Vkb3duIiwiMzciLCIzOCIsIjM5IiwiNDAiLCJpbml0IiwiYm9keSIsImlubmVySGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0Iiwid2luZG93SGVpZ2h0IiwiYWRkRXZlbnQiLCJrZXlkb3duIiwidG9wIiwic2VsZiIsImluaXRUZXN0IiwiaXNPbGRTYWZhcmkiLCJvZmZzZXRIZWlnaHQiLCJwZW5kaW5nUmVmcmVzaCIsImZ1bGxQYWdlRWxlbSIsInJlZnJlc2hTaXplIiwic3R5bGUiLCJoZWlnaHQiLCJzZXRUaW1lb3V0IiwiY29uZmlnIiwiY2xlYXJmaXgiLCJjaGFyYWN0ZXJEYXRhIiwiYXR0cmlidXRlcyIsImNoaWxkTGlzdCIsImFwcGVuZENoaWxkIiwiY3JlYXRlRWxlbWVudCIsImNsZWFyIiwiYmFja2dyb3VuZEF0dGFjaG1lbnQiLCJxdWUiLCJwZW5kaW5nIiwibGFzdFNjcm9sbCIsIkRhdGUiLCJub3ciLCJkcGlTY2FsZWRXaGVlbERlbHRhIiwiYWxsRGVsdGFzRGl2aXNhYmxlQnkiLCJpc0RpdmlzaWJsZSIsImZsb29yIiwiZGlyZWN0aW9uQ2hlY2siLCJlbGFwc2VkIiwiZmFjdG9yIiwiTWF0aCIsIm1pbiIsImxhc3RYIiwibGFzdFkiLCJzdGFydCIsInNjcm9sbFJvb3QiLCJnZXRTY3JvbGxSb290IiwiaXNXaW5kb3dTY3JvbGwiLCJlbGVtIiwiJHNjcm9sbEJlaGF2aW9yIiwiZWwiLCJzbW9vdGhCZWhhdmlvckZvckVsZW1lbnQiLCJpZCIsInNjcm9sbEJlaGF2aW9yIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImlzU2Nyb2xsQmVoYXZpb3JTbW9vdGgiLCJzdGVwIiwicmVxdWVzdEZyYW1lIiwic2Nyb2xsWSIsInRpbWUiLCJzY3JvbGxYIiwiZmluaXNoZWQiLCJpdGVtIiwiaSIsInBvc2l0aW9uIiwicHVsc2VBbGdvcml0aG0iLCJwdWxzZSIsInNwbGljZSIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJsZW5ndGgiLCJ3aGVlbCIsImV2ZW50IiwidGFyZ2V0IiwiZGVmYXVsdFByZXZlbnRlZCIsImN0cmxLZXkiLCJpc05vZGVOYW1lIiwid2hlZWxEZWx0YVgiLCJ3aGVlbERlbHRhWSIsImRlbHRhWSIsInNyYyIsInNoYWRvd1Jvb3QiLCJkZWx0YVgiLCJhYnMiLCJ3aGVlbERlbHRhIiwib3ZlcmZsb3dpbmciLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImlzQ29udHJvbCIsInBhcmVudE5vZGUiLCJwdXNoIiwic2hpZnQiLCJjbGVhclRpbWVvdXQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJsb2NhbFN0b3JhZ2UiLCJTU19kZWx0YUJ1ZmZlciIsImpvaW4iLCJNdXRhdGlvbk9ic2VydmVyIiwic2NoZWR1bGVDbGVhckNhY2hlIiwic2Nyb2xsQXJyYXkiLCJpc0Nocm9tZSIsInZhbHVlIiwiZnJhbWVFbGVtZW50IiwicGFyZW50IiwibW9kaWZpZXIiLCJhbHRLZXkiLCJpbnB1dE5vZGVOYW1lcyIsImJ1dHRvblR5cGVzIiwia2V5Q29kZSIsImNvbnRhaW5zIiwibm9kZU5hbWUiLCJVUkwiLCJpbmRleE9mIiwiY2xhc3NMaXN0IiwiaXNJbnNpZGVZb3V0dWJlVmlkZW8iLCJvdmVyZmxvd2luZ0FuY2VzdG9yIiwiaXNDb250ZW50RWRpdGFibGUiLCJjbGllbnRIZWlnaHQiLCJhcnJvd0tleXMiLCJzY3JvbGxSZW1haW5pbmciLCJzY3JvbGwiLCJzaGlmdEtleSIsIm1vdXNlZG93biIsInNjcm9sbGluZ0VsZW1lbnQiLCJlbmQiLCJ1bmlxdWVJRCIsImNhY2hlWCIsImNhY2hlWSIsImNsZWFyQ2FjaGVUaW1lciIsImVsZW1zIiwicm9vdFNjcm9sbEhlaWdodCIsImdldENhY2hlIiwiY2FjaGVkIiwiY2FjaGUiLCJ0b3BPdmVyZmxvd3NOb3RIaWRkZW4iLCJpc092ZXJmbG93Q1NTIiwib3ZlcmZsb3dBdXRvT3JTY3JvbGwiLCJvdmVyZmxvd05vdEhpZGRlbiIsIm92ZXJmbG93Iiwic2V0Q2FjaGUiLCJpc0NvbnRlbnRPdmVyZmxvd2luZyIsInBhcmVudEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImZuIiwiYXJnIiwidG9Mb3dlckNhc2UiLCJ0YWciLCJkaXZpc29yIiwic3BsaXQiLCJib2R5U2Nyb2xsVG9wIiwiZG9jRWxTY3JvbGxUb3AiLCJTQ1JPTExfUk9PVCIsInZhbCIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbGxiYWNrIiwiZWxlbWVudCIsImRlbGF5IiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsIk1vek11dGF0aW9uT2JzZXJ2ZXIiLCJkdW1teSIsImNzc1RleHQiLCJwdWxzZV8iLCJzY3JvbGxCeSIsInVzZXJBZ2VudCIsImlzRWRnZSIsImlzU2FmYXJpIiwid2hlZWxPcHQiLCJ3aGVlbEV2ZW50IiwiZXhwIiwib3B0aW9uc1RvU2V0IiwiaGFzT3duUHJvcGVydHkiLCJTbW9vdGhTY3JvbGwiLCJkZXN0cm95IiwiU21vb3RoU2Nyb2xsT3B0aW9ucyIsImlzTW9iaWxlIiwiaXNJRVdpbjciLCJpc0VuYWJsZWRGb3JCcm93c2VyIiwic3VwcG9ydHNQYXNzaXZlIiwiZ2V0IiwicGFzc2l2ZSIsInJlbW92ZUV2ZW50IiwiZGlzY29ubmVjdCIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJfdHlwZW9mIiwibW9kdWxlIiwib25SZXNpemUiLCJ3aWR0aCIsIm5hdl9iYXIiLCJuYXZfbWVudSIsInNjcm9sbFBvcyIsInNob3ciLCJjdXJyTGluayIsInBhdGhuYW1lIiwiYWRkQ2xhc3MiLCJlYWNoIiwidGhpcyIsInJlZkVsZW1lbnQiLCJhdHRyIiwicmVtb3ZlQ2xhc3MiLCJyZWFkeSIsImNsaWNrIiwidG9nZ2xlQ2xhc3MiLCJvZmYiLCJoYXNoIiwiJHRhcmdldCIsInN0b3AiLCJhbmltYXRlIiwib25TY3JvbGwiXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUNBQTtBQ0FBO2FDQUFBLEVBQUUsaUJBQWlCQyxPQUFPLFNBQVVDLEdBQWxDRixFQUFBRyxLQUFBLENBQ01DLEtBQU0sT0FDUkQsSUFEUSwwQkFFTkUsS0FBTUwsRUFBQSxpQkFESE0sWUFFSEYsUUFGRyxTQUFBRyxHQUdLLEdBQUFBLEVBQ1JDLEVBQVMsdUJBQWdCQyxLQUFBLHNHQUVmLEdBQUFGLEVBRE5QLEVBQUEsdUJBR29CUyxLQUFBLG9HQUdYRixHQUFKQSxJQUNE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Z0J0QyxFQUFBLG1CQUtoQnVQLEVBQVFhLE1BQU0sV0FEZHBRLEVBQUErUCxNQUFBTSxZQUFBLHdCQUNBZCxFQUFRYSxXQUdQZixXQUdEclAsRUFBRWMsUUFBUUMsR0FBRyxTQUFVc08sVUFEdkJBLEVBQUFBLFVBQUFBLEdBQUFBLFNBQUFBLFVBS0FyUCxFQUFFLGdCQUFnQmUsR0FBRyxRQUFTLFNBQVNiLEdBRHZDQSxFQUFBVyxpQkFDRWIsRUFBQXNDLFVBQUFnTyxJQUFnQnZQLFVBQ2hCYixXQUNBRixFQUFFc0MsWUFBYyx3QkFDaEIrTSxFQUFBQSxLQUFBQSxLQUFBQSxXQUNBRSxFQUFBQSxNQUFRVyxZQUFZLFVBQ2xCbFEsRUFBQStQLE1BQ0VoRyxTQUNBbUcsWUFBRixZQUlGbFEsRUFBRStQLE1BQU1GLFNBQVMsVUFDakI3UCxFQUFFK1AsTUFDQ2hHLFNBR0g4RixTQUFJNUgsVUFBSixJQUFJQSxFQUFTOEgsS0FBS1EsS0FHaEJDLEVBQUZ4USxFQUNHeVEsR0FDQUMsU0FDQzFNLElBQUEsR0FBQWhFLEVBSEosY0FTTUEsT0FUTjBRLFFBbkJGLENBZ0NFOUksVUFBQTRJLEdBRUUsSUFHQSxRQUxKLFdBL0NGeFEsRUFBQXNDLFVBQUF2QixHQUFBLFNBQUE0UCxjQTBERTNRLEVBQUEseUJBQWtCZSxHQUFBLFFBQWxCLFNBQUFiLEdBQ0FGLEVBQU13UCx5QkFBYTVPLE9BVmpCWixFQUFFLHFCQVlBc1AsU0FDRkUsU0FBUzVPLFVBQ1QyTyxFQUFBQSxxQkFBQU0sU0FBQTtBQy9ESjtBQ0FBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjsiLCJcInVzZSBzdHJpY3RcIjsiLCJcInVzZSBzdHJpY3RcIjsiLCJcInVzZSBzdHJpY3RcIjsiLCIkKFwiLmNvbnRhY3QtZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciB1cmwgPSBcImNvbnRhY3QtZm9ybS1zZW5kZXIucGhwXCI7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgIGRhdGE6ICQoXCIuY29udGFjdC1mb3JtXCIpLnNlcmlhbGl6ZSgpLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhID09IDApIHtcclxuICAgICAgICAgICAgICAgICQoXCIuY29udGFjdC1mb3JtLWFsZXJ0XCIpLmh0bWwoJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIiByb2xlPVwiYWxlcnRcIj5Db8WbIHBvc3rFgm8gbmllIHRhayEgUHJvc3rEmSBzcHJhd2R6acSHIGZvcm11bGFyei48L2Rpdj4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhID09IDIpIHtcclxuICAgICAgICAgICAgICAgICQoXCIuY29udGFjdC1mb3JtLWFsZXJ0XCIpLmh0bWwoJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIiByb2xlPVwiYWxlcnRcIj5Db8WbIHBvc3rFgm8gbmllIHRhayEgUHJvc3rEmSBzcHLDs2Jvd2HEhyBwb8W8bmllai48L2Rpdj4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhID09IDEpIHtcclxuICAgICAgICAgICAgICAgICQoXCIuY29udGFjdC1mb3JtLWFsZXJ0XCIpLmh0bWwoJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCIgcm9sZT1cImFsZXJ0XCI+V2lhZG9tb8WbxIcgem9zdGHFgmEgd3lzxYJhbmEgcG9tecWbbG5pZSE8L2Rpdj4nKTtcclxuICAgICAgICAgICAgICAgICQoXCIuY29udGFjdC1mb3JtXCIpLnRyaWdnZXIoJ3Jlc2V0Jyk7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmNvbnRhY3QtZm9ybS1hbGVydFwiKS5mYWRlT3V0KDQwMDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmNvbnRhY3QtZm9ybS1hbGVydFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59KTsgIiwiXCJ1c2Ugc3RyaWN0XCI7IiwiXCJ1c2Ugc3RyaWN0XCI7IiwiXCJ1c2Ugc3RyaWN0XCI7IiwiLy9QcmVsb2FkZXJcclxuJCh3aW5kb3cpLm9uKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcclxuICBjb25zdCBwcmVsb2FkZXJGYWRlT3V0VGltZSA9IDUwMDtcclxuICBmdW5jdGlvbiBoaWRlUHJlbG9hZGVyKCkge1xyXG4gICAgY29uc3QgcHJlbG9hZGVyID0gJChcIi5zcGlubmVyLXdyYXBwZXJcIik7XHJcbiAgICBwcmVsb2FkZXIuZmFkZU91dChwcmVsb2FkZXJGYWRlT3V0VGltZSk7XHJcbiAgfVxyXG4gIGhpZGVQcmVsb2FkZXIoKTtcclxufSk7XHJcblxyXG4vLyBzbW9vdGhzY3JvbGxcclxuKGZ1bmN0aW9uKCkge1xyXG4gIC8vIFNjcm9sbCBWYXJpYWJsZXMgKHR3ZWFrYWJsZSlcclxuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAvLyBTY3JvbGxpbmcgQ29yZVxyXG4gICAgZnJhbWVSYXRlOiAxNTAsIC8vIFtIel1cclxuICAgIGFuaW1hdGlvblRpbWU6IDQwMCwgLy8gW21zXVxyXG4gICAgc3RlcFNpemU6IDEwMCwgLy8gW3B4XVxyXG5cclxuICAgIC8vIFB1bHNlIChsZXNzIHR3ZWFrYWJsZSlcclxuICAgIC8vIHJhdGlvIG9mIFwidGFpbFwiIHRvIFwiYWNjZWxlcmF0aW9uXCJcclxuICAgIHB1bHNlQWxnb3JpdGhtOiB0cnVlLFxyXG4gICAgcHVsc2VTY2FsZTogNCxcclxuICAgIHB1bHNlTm9ybWFsaXplOiAxLFxyXG5cclxuICAgIC8vIEFjY2VsZXJhdGlvblxyXG4gICAgYWNjZWxlcmF0aW9uRGVsdGE6IDUwLCAvLyA1MFxyXG4gICAgYWNjZWxlcmF0aW9uTWF4OiAzLCAvLyAzXHJcblxyXG4gICAgLy8gS2V5Ym9hcmQgU2V0dGluZ3NcclxuICAgIGtleWJvYXJkU3VwcG9ydDogdHJ1ZSwgLy8gb3B0aW9uXHJcbiAgICBhcnJvd1Njcm9sbDogNTAsIC8vIFtweF1cclxuXHJcbiAgICAvLyBPdGhlclxyXG4gICAgZml4ZWRCYWNrZ3JvdW5kOiB0cnVlLFxyXG4gICAgZXhjbHVkZWQ6IFwiXCJcclxuICB9O1xyXG5cclxuICB2YXIgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xyXG5cclxuICAvLyBPdGhlciBWYXJpYWJsZXNcclxuICB2YXIgaXNFeGNsdWRlZCA9IGZhbHNlO1xyXG4gIHZhciBpc0ZyYW1lID0gZmFsc2U7XHJcbiAgdmFyIGRpcmVjdGlvbiA9IHsgeDogMCwgeTogMCB9O1xyXG4gIHZhciBpbml0RG9uZSA9IGZhbHNlO1xyXG4gIHZhciByb290ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gIHZhciBhY3RpdmVFbGVtZW50O1xyXG4gIHZhciBvYnNlcnZlcjtcclxuICB2YXIgcmVmcmVzaFNpemU7XHJcbiAgdmFyIGRlbHRhQnVmZmVyID0gW107XHJcbiAgdmFyIGRlbHRhQnVmZmVyVGltZXI7XHJcbiAgdmFyIGlzTWFjID0gL15NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcclxuXHJcbiAgdmFyIGtleSA9IHtcclxuICAgIGxlZnQ6IDM3LFxyXG4gICAgdXA6IDM4LFxyXG4gICAgcmlnaHQ6IDM5LFxyXG4gICAgZG93bjogNDAsXHJcbiAgICBzcGFjZWJhcjogMzIsXHJcbiAgICBwYWdldXA6IDMzLFxyXG4gICAgcGFnZWRvd246IDM0LFxyXG4gICAgZW5kOiAzNSxcclxuICAgIGhvbWU6IDM2XHJcbiAgfTtcclxuICB2YXIgYXJyb3dLZXlzID0geyAzNzogMSwgMzg6IDEsIDM5OiAxLCA0MDogMSB9O1xyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgKiBJTklUSUFMSVpFXHJcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvKipcclxuICAgKiBUZXN0cyBpZiBzbW9vdGggc2Nyb2xsaW5nIGlzIGFsbG93ZWQuIFNodXRzIGRvd24gZXZlcnl0aGluZyBpZiBub3QuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaW5pdFRlc3QoKSB7XHJcbiAgICBpZiAob3B0aW9ucy5rZXlib2FyZFN1cHBvcnQpIHtcclxuICAgICAgYWRkRXZlbnQoXCJrZXlkb3duXCIsIGtleWRvd24pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB1cCBzY3JvbGxzIGFycmF5LCBkZXRlcm1pbmVzIGlmIGZyYW1lcyBhcmUgaW52b2x2ZWQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGlmIChpbml0RG9uZSB8fCAhZG9jdW1lbnQuYm9keSkgcmV0dXJuO1xyXG5cclxuICAgIGluaXREb25lID0gdHJ1ZTtcclxuXHJcbiAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XHJcbiAgICB2YXIgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIHZhciB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gYm9keS5zY3JvbGxIZWlnaHQ7XHJcblxyXG4gICAgLy8gY2hlY2sgY29tcGF0IG1vZGUgZm9yIHJvb3QgZWxlbWVudFxyXG4gICAgcm9vdCA9IGRvY3VtZW50LmNvbXBhdE1vZGUuaW5kZXhPZihcIkNTU1wiKSA+PSAwID8gaHRtbCA6IGJvZHk7XHJcbiAgICBhY3RpdmVFbGVtZW50ID0gYm9keTtcclxuXHJcbiAgICBpbml0VGVzdCgpO1xyXG5cclxuICAgIC8vIENoZWNrcyBpZiB0aGlzIHNjcmlwdCBpcyBydW5uaW5nIGluIGEgZnJhbWVcclxuICAgIGlmICh0b3AgIT0gc2VsZikge1xyXG4gICAgICBpc0ZyYW1lID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTYWZhcmkgMTAgZml4ZWQgaXQsIENocm9tZSBmaXhlZCBpdCBpbiB2NDU6XHJcbiAgICAgKiBUaGlzIGZpeGVzIGEgYnVnIHdoZXJlIHRoZSBhcmVhcyBsZWZ0IGFuZCByaWdodCB0b1xyXG4gICAgICogdGhlIGNvbnRlbnQgZG9lcyBub3QgdHJpZ2dlciB0aGUgb25tb3VzZXdoZWVsIGV2ZW50XHJcbiAgICAgKiBvbiBzb21lIHBhZ2VzLiBlLmcuOiBodG1sLCBib2R5IHsgaGVpZ2h0OiAxMDAlIH1cclxuICAgICAqL1xyXG4gICAgICBpc09sZFNhZmFyaSAmJlxyXG4gICAgICBzY3JvbGxIZWlnaHQgPiB3aW5kb3dIZWlnaHQgJiZcclxuICAgICAgKGJvZHkub2Zmc2V0SGVpZ2h0IDw9IHdpbmRvd0hlaWdodCB8fCBodG1sLm9mZnNldEhlaWdodCA8PSB3aW5kb3dIZWlnaHQpXHJcbiAgICApIHtcclxuICAgICAgdmFyIGZ1bGxQYWdlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIGZ1bGxQYWdlRWxlbS5zdHlsZS5jc3NUZXh0ID1cclxuICAgICAgICBcInBvc2l0aW9uOmFic29sdXRlOyB6LWluZGV4Oi0xMDAwMDsgXCIgK1xyXG4gICAgICAgIFwidG9wOjA7IGxlZnQ6MDsgcmlnaHQ6MDsgaGVpZ2h0OlwiICtcclxuICAgICAgICByb290LnNjcm9sbEhlaWdodCArXHJcbiAgICAgICAgXCJweFwiO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZ1bGxQYWdlRWxlbSk7XHJcblxyXG4gICAgICAvLyBET00gY2hhbmdlZCAodGhyb3R0bGVkKSB0byBmaXggaGVpZ2h0XHJcbiAgICAgIHZhciBwZW5kaW5nUmVmcmVzaDtcclxuICAgICAgcmVmcmVzaFNpemUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAocGVuZGluZ1JlZnJlc2gpIHJldHVybjsgLy8gY291bGQgYWxzbyBiZTogY2xlYXJUaW1lb3V0KHBlbmRpbmdSZWZyZXNoKTtcclxuICAgICAgICBwZW5kaW5nUmVmcmVzaCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoaXNFeGNsdWRlZCkgcmV0dXJuOyAvLyBjb3VsZCBiZSBydW5uaW5nIGFmdGVyIGNsZWFudXBcclxuICAgICAgICAgIGZ1bGxQYWdlRWxlbS5zdHlsZS5oZWlnaHQgPSBcIjBcIjtcclxuICAgICAgICAgIGZ1bGxQYWdlRWxlbS5zdHlsZS5oZWlnaHQgPSByb290LnNjcm9sbEhlaWdodCArIFwicHhcIjtcclxuICAgICAgICAgIHBlbmRpbmdSZWZyZXNoID0gbnVsbDtcclxuICAgICAgICB9LCA1MDApOyAvLyBhY3QgcmFyZWx5IHRvIHN0YXkgZmFzdFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgc2V0VGltZW91dChyZWZyZXNoU2l6ZSwgMTApO1xyXG5cclxuICAgICAgYWRkRXZlbnQoXCJyZXNpemVcIiwgcmVmcmVzaFNpemUpO1xyXG5cclxuICAgICAgLy8gVE9ETzogYXR0cmlidXRlRmlsdGVyP1xyXG4gICAgICB2YXIgY29uZmlnID0ge1xyXG4gICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXHJcbiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICAgIGNoYXJhY3RlckRhdGE6IGZhbHNlXHJcbiAgICAgICAgLy8gc3VidHJlZTogdHJ1ZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihyZWZyZXNoU2l6ZSk7XHJcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoYm9keSwgY29uZmlnKTtcclxuXHJcbiAgICAgIGlmIChyb290Lm9mZnNldEhlaWdodCA8PSB3aW5kb3dIZWlnaHQpIHtcclxuICAgICAgICB2YXIgY2xlYXJmaXggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGNsZWFyZml4LnN0eWxlLmNsZWFyID0gXCJib3RoXCI7XHJcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChjbGVhcmZpeCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBkaXNhYmxlIGZpeGVkIGJhY2tncm91bmRcclxuICAgIGlmICghb3B0aW9ucy5maXhlZEJhY2tncm91bmQgJiYgIWlzRXhjbHVkZWQpIHtcclxuICAgICAgYm9keS5zdHlsZS5iYWNrZ3JvdW5kQXR0YWNobWVudCA9IFwic2Nyb2xsXCI7XHJcbiAgICAgIGh0bWwuc3R5bGUuYmFja2dyb3VuZEF0dGFjaG1lbnQgPSBcInNjcm9sbFwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lcnMgYW5kIG90aGVyIHRyYWNlcyBsZWZ0IG9uIHRoZSBwYWdlLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XHJcbiAgICBvYnNlcnZlciAmJiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICByZW1vdmVFdmVudCh3aGVlbEV2ZW50LCB3aGVlbCk7XHJcbiAgICByZW1vdmVFdmVudChcIm1vdXNlZG93blwiLCBtb3VzZWRvd24pO1xyXG4gICAgcmVtb3ZlRXZlbnQoXCJrZXlkb3duXCIsIGtleWRvd24pO1xyXG4gICAgcmVtb3ZlRXZlbnQoXCJyZXNpemVcIiwgcmVmcmVzaFNpemUpO1xyXG4gICAgcmVtb3ZlRXZlbnQoXCJsb2FkXCIsIGluaXQpO1xyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAqIFNDUk9MTElOR1xyXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIHZhciBxdWUgPSBbXTtcclxuICB2YXIgcGVuZGluZyA9IGZhbHNlO1xyXG4gIHZhciBsYXN0U2Nyb2xsID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgLyoqXHJcbiAgICogUHVzaGVzIHNjcm9sbCBhY3Rpb25zIHRvIHRoZSBzY3JvbGxpbmcgcXVldWUuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc2Nyb2xsQXJyYXkoZWxlbSwgbGVmdCwgdG9wKSB7XHJcbiAgICBkaXJlY3Rpb25DaGVjayhsZWZ0LCB0b3ApO1xyXG5cclxuICAgIGlmIChvcHRpb25zLmFjY2VsZXJhdGlvbk1heCAhPSAxKSB7XHJcbiAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIGxhc3RTY3JvbGw7XHJcbiAgICAgIGlmIChlbGFwc2VkIDwgb3B0aW9ucy5hY2NlbGVyYXRpb25EZWx0YSkge1xyXG4gICAgICAgIHZhciBmYWN0b3IgPSAoMSArIDUwIC8gZWxhcHNlZCkgLyAyO1xyXG4gICAgICAgIGlmIChmYWN0b3IgPiAxKSB7XHJcbiAgICAgICAgICBmYWN0b3IgPSBNYXRoLm1pbihmYWN0b3IsIG9wdGlvbnMuYWNjZWxlcmF0aW9uTWF4KTtcclxuICAgICAgICAgIGxlZnQgKj0gZmFjdG9yO1xyXG4gICAgICAgICAgdG9wICo9IGZhY3RvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgbGFzdFNjcm9sbCA9IERhdGUubm93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVzaCBhIHNjcm9sbCBjb21tYW5kXHJcbiAgICBxdWUucHVzaCh7XHJcbiAgICAgIHg6IGxlZnQsXHJcbiAgICAgIHk6IHRvcCxcclxuICAgICAgbGFzdFg6IGxlZnQgPCAwID8gMC45OSA6IC0wLjk5LFxyXG4gICAgICBsYXN0WTogdG9wIDwgMCA/IDAuOTkgOiAtMC45OSxcclxuICAgICAgc3RhcnQ6IERhdGUubm93KClcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGRvbid0IGFjdCBpZiB0aGVyZSdzIGEgcGVuZGluZyBxdWV1ZVxyXG4gICAgaWYgKHBlbmRpbmcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzY3JvbGxSb290ID0gZ2V0U2Nyb2xsUm9vdCgpO1xyXG4gICAgdmFyIGlzV2luZG93U2Nyb2xsID0gZWxlbSA9PT0gc2Nyb2xsUm9vdCB8fCBlbGVtID09PSBkb2N1bWVudC5ib2R5O1xyXG5cclxuICAgIC8vIGlmIHdlIGhhdmVuJ3QgYWxyZWFkeSBmaXhlZCB0aGUgYmVoYXZpb3IsXHJcbiAgICAvLyBhbmQgaXQgbmVlZHMgZml4aW5nIGZvciB0aGlzIHNlc2hcclxuICAgIGlmIChlbGVtLiRzY3JvbGxCZWhhdmlvciA9PSBudWxsICYmIGlzU2Nyb2xsQmVoYXZpb3JTbW9vdGgoZWxlbSkpIHtcclxuICAgICAgZWxlbS4kc2Nyb2xsQmVoYXZpb3IgPSBlbGVtLnN0eWxlLnNjcm9sbEJlaGF2aW9yO1xyXG4gICAgICBlbGVtLnN0eWxlLnNjcm9sbEJlaGF2aW9yID0gXCJhdXRvXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHN0ZXAgPSBmdW5jdGlvbih0aW1lKSB7XHJcbiAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICB2YXIgc2Nyb2xsWCA9IDA7XHJcbiAgICAgIHZhciBzY3JvbGxZID0gMDtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWVbaV07XHJcbiAgICAgICAgdmFyIGVsYXBzZWQgPSBub3cgLSBpdGVtLnN0YXJ0O1xyXG4gICAgICAgIHZhciBmaW5pc2hlZCA9IGVsYXBzZWQgPj0gb3B0aW9ucy5hbmltYXRpb25UaW1lO1xyXG5cclxuICAgICAgICAvLyBzY3JvbGwgcG9zaXRpb246IFswLCAxXVxyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGZpbmlzaGVkID8gMSA6IGVsYXBzZWQgLyBvcHRpb25zLmFuaW1hdGlvblRpbWU7XHJcblxyXG4gICAgICAgIC8vIGVhc2luZyBbb3B0aW9uYWxdXHJcbiAgICAgICAgaWYgKG9wdGlvbnMucHVsc2VBbGdvcml0aG0pIHtcclxuICAgICAgICAgIHBvc2l0aW9uID0gcHVsc2UocG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gb25seSBuZWVkIHRoZSBkaWZmZXJlbmNlXHJcbiAgICAgICAgdmFyIHggPSAoaXRlbS54ICogcG9zaXRpb24gLSBpdGVtLmxhc3RYKSA+PiAwO1xyXG4gICAgICAgIHZhciB5ID0gKGl0ZW0ueSAqIHBvc2l0aW9uIC0gaXRlbS5sYXN0WSkgPj4gMDtcclxuXHJcbiAgICAgICAgLy8gYWRkIHRoaXMgdG8gdGhlIHRvdGFsIHNjcm9sbGluZ1xyXG4gICAgICAgIHNjcm9sbFggKz0geDtcclxuICAgICAgICBzY3JvbGxZICs9IHk7XHJcblxyXG4gICAgICAgIC8vIHVwZGF0ZSBsYXN0IHZhbHVlc1xyXG4gICAgICAgIGl0ZW0ubGFzdFggKz0geDtcclxuICAgICAgICBpdGVtLmxhc3RZICs9IHk7XHJcblxyXG4gICAgICAgIC8vIGRlbGV0ZSBhbmQgc3RlcCBiYWNrIGlmIGl0J3Mgb3ZlclxyXG4gICAgICAgIGlmIChmaW5pc2hlZCkge1xyXG4gICAgICAgICAgcXVlLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgIGktLTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHNjcm9sbCBsZWZ0IGFuZCB0b3BcclxuICAgICAgaWYgKGlzV2luZG93U2Nyb2xsKSB7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbEJ5KHNjcm9sbFgsIHNjcm9sbFkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChzY3JvbGxYKSBlbGVtLnNjcm9sbExlZnQgKz0gc2Nyb2xsWDtcclxuICAgICAgICBpZiAoc2Nyb2xsWSkgZWxlbS5zY3JvbGxUb3AgKz0gc2Nyb2xsWTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gY2xlYW4gdXAgaWYgdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG9cclxuICAgICAgaWYgKCFsZWZ0ICYmICF0b3ApIHtcclxuICAgICAgICBxdWUgPSBbXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHF1ZS5sZW5ndGgpIHtcclxuICAgICAgICByZXF1ZXN0RnJhbWUoc3RlcCwgZWxlbSwgMTAwMCAvIG9wdGlvbnMuZnJhbWVSYXRlICsgMSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHJlc3RvcmUgZGVmYXVsdCBiZWhhdmlvciBhdCB0aGUgZW5kIG9mIHNjcm9sbGluZyBzZXNoXHJcbiAgICAgICAgaWYgKGVsZW0uJHNjcm9sbEJlaGF2aW9yICE9IG51bGwpIHtcclxuICAgICAgICAgIGVsZW0uc3R5bGUuc2Nyb2xsQmVoYXZpb3IgPSBlbGVtLiRzY3JvbGxCZWhhdmlvcjtcclxuICAgICAgICAgIGVsZW0uJHNjcm9sbEJlaGF2aW9yID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gc3RhcnQgYSBuZXcgcXVldWUgb2YgYWN0aW9uc1xyXG4gICAgcmVxdWVzdEZyYW1lKHN0ZXAsIGVsZW0sIDApO1xyXG4gICAgcGVuZGluZyA9IHRydWU7XHJcbiAgfVxyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgKiBFVkVOVFNcclxuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdXNlIHdoZWVsIGhhbmRsZXIuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gd2hlZWwoZXZlbnQpIHtcclxuICAgIGlmICghaW5pdERvbmUpIHtcclxuICAgICAgaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gICAgLy8gbGVhdmUgZWFybHkgaWYgZGVmYXVsdCBhY3Rpb24gaXMgcHJldmVudGVkXHJcbiAgICAvLyBvciBpdCdzIGEgem9vbWluZyBldmVudCB3aXRoIENUUkxcclxuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkIHx8IGV2ZW50LmN0cmxLZXkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbGVhdmUgZW1iZWRkZWQgY29udGVudCBhbG9uZSAoZmxhc2ggJiBwZGYpXHJcbiAgICBpZiAoXHJcbiAgICAgIGlzTm9kZU5hbWUoYWN0aXZlRWxlbWVudCwgXCJlbWJlZFwiKSB8fFxyXG4gICAgICAoaXNOb2RlTmFtZSh0YXJnZXQsIFwiZW1iZWRcIikgJiYgL1xcLnBkZi9pLnRlc3QodGFyZ2V0LnNyYykpIHx8XHJcbiAgICAgIGlzTm9kZU5hbWUoYWN0aXZlRWxlbWVudCwgXCJvYmplY3RcIikgfHxcclxuICAgICAgdGFyZ2V0LnNoYWRvd1Jvb3RcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGVsdGFYID0gLWV2ZW50LndoZWVsRGVsdGFYIHx8IGV2ZW50LmRlbHRhWCB8fCAwO1xyXG4gICAgdmFyIGRlbHRhWSA9IC1ldmVudC53aGVlbERlbHRhWSB8fCBldmVudC5kZWx0YVkgfHwgMDtcclxuXHJcbiAgICBpZiAoaXNNYWMpIHtcclxuICAgICAgaWYgKGV2ZW50LndoZWVsRGVsdGFYICYmIGlzRGl2aXNpYmxlKGV2ZW50LndoZWVsRGVsdGFYLCAxMjApKSB7XHJcbiAgICAgICAgZGVsdGFYID0gLTEyMCAqIChldmVudC53aGVlbERlbHRhWCAvIE1hdGguYWJzKGV2ZW50LndoZWVsRGVsdGFYKSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGV2ZW50LndoZWVsRGVsdGFZICYmIGlzRGl2aXNpYmxlKGV2ZW50LndoZWVsRGVsdGFZLCAxMjApKSB7XHJcbiAgICAgICAgZGVsdGFZID0gLTEyMCAqIChldmVudC53aGVlbERlbHRhWSAvIE1hdGguYWJzKGV2ZW50LndoZWVsRGVsdGFZKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB1c2Ugd2hlZWxEZWx0YSBpZiBkZWx0YVgvWSBpcyBub3QgYXZhaWxhYmxlXHJcbiAgICBpZiAoIWRlbHRhWCAmJiAhZGVsdGFZKSB7XHJcbiAgICAgIGRlbHRhWSA9IC1ldmVudC53aGVlbERlbHRhIHx8IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbGluZSBiYXNlZCBzY3JvbGxpbmcgKEZpcmVmb3ggbW9zdGx5KVxyXG4gICAgaWYgKGV2ZW50LmRlbHRhTW9kZSA9PT0gMSkge1xyXG4gICAgICBkZWx0YVggKj0gNDA7XHJcbiAgICAgIGRlbHRhWSAqPSA0MDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgb3ZlcmZsb3dpbmcgPSBvdmVyZmxvd2luZ0FuY2VzdG9yKHRhcmdldCk7XHJcblxyXG4gICAgLy8gbm90aGluZyB0byBkbyBpZiB0aGVyZSdzIG5vIGVsZW1lbnQgdGhhdCdzIHNjcm9sbGFibGVcclxuICAgIGlmICghb3ZlcmZsb3dpbmcpIHtcclxuICAgICAgLy8gZXhjZXB0IENocm9tZSBpZnJhbWVzIHNlZW0gdG8gZWF0IHdoZWVsIGV2ZW50cywgd2hpY2ggd2UgbmVlZCB0b1xyXG4gICAgICAvLyBwcm9wYWdhdGUgdXAsIGlmIHRoZSBpZnJhbWUgaGFzIG5vdGhpbmcgb3ZlcmZsb3dpbmcgdG8gc2Nyb2xsXHJcbiAgICAgIGlmIChpc0ZyYW1lICYmIGlzQ2hyb21lKSB7XHJcbiAgICAgICAgLy8gY2hhbmdlIHRhcmdldCB0byBpZnJhbWUgZWxlbWVudCBpdHNlbGYgZm9yIHRoZSBwYXJlbnQgZnJhbWVcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsIFwidGFyZ2V0XCIsIHsgdmFsdWU6IHdpbmRvdy5mcmFtZUVsZW1lbnQgfSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcmVudC53aGVlbChldmVudCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgaXQncyBhIHRvdWNocGFkIHNjcm9sbCB0aGF0IHNob3VsZCBiZSBpZ25vcmVkXHJcbiAgICBpZiAoaXNUb3VjaHBhZChkZWx0YVkpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHNjYWxlIGJ5IHN0ZXAgc2l6ZVxyXG4gICAgLy8gZGVsdGEgaXMgMTIwIG1vc3Qgb2YgdGhlIHRpbWVcclxuICAgIC8vIHN5bmFwdGljcyBzZWVtcyB0byBzZW5kIDEgc29tZXRpbWVzXHJcbiAgICBpZiAoTWF0aC5hYnMoZGVsdGFYKSA+IDEuMikge1xyXG4gICAgICBkZWx0YVggKj0gb3B0aW9ucy5zdGVwU2l6ZSAvIDEyMDtcclxuICAgIH1cclxuICAgIGlmIChNYXRoLmFicyhkZWx0YVkpID4gMS4yKSB7XHJcbiAgICAgIGRlbHRhWSAqPSBvcHRpb25zLnN0ZXBTaXplIC8gMTIwO1xyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbEFycmF5KG92ZXJmbG93aW5nLCBkZWx0YVgsIGRlbHRhWSk7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgc2NoZWR1bGVDbGVhckNhY2hlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBLZXlkb3duIGV2ZW50IGhhbmRsZXIuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XHJcbiAgICovXHJcbiAgZnVuY3Rpb24ga2V5ZG93bihldmVudCkge1xyXG4gICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAgIHZhciBtb2RpZmllciA9XHJcbiAgICAgIGV2ZW50LmN0cmxLZXkgfHxcclxuICAgICAgZXZlbnQuYWx0S2V5IHx8XHJcbiAgICAgIGV2ZW50Lm1ldGFLZXkgfHxcclxuICAgICAgKGV2ZW50LnNoaWZ0S2V5ICYmIGV2ZW50LmtleUNvZGUgIT09IGtleS5zcGFjZWJhcik7XHJcblxyXG4gICAgLy8gb3VyIG93biB0cmFja2VkIGFjdGl2ZSBlbGVtZW50IGNvdWxkJ3ZlIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBET01cclxuICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhhY3RpdmVFbGVtZW50KSkge1xyXG4gICAgICBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBkbyBub3RoaW5nIGlmIHVzZXIgaXMgZWRpdGluZyB0ZXh0XHJcbiAgICAvLyBvciB1c2luZyBhIG1vZGlmaWVyIGtleSAoZXhjZXB0IHNoaWZ0KVxyXG4gICAgLy8gb3IgaW4gYSBkcm9wZG93blxyXG4gICAgLy8gb3IgaW5zaWRlIGludGVyYWN0aXZlIGVsZW1lbnRzXHJcbiAgICB2YXIgaW5wdXROb2RlTmFtZXMgPSAvXih0ZXh0YXJlYXxzZWxlY3R8ZW1iZWR8b2JqZWN0KSQvaTtcclxuICAgIHZhciBidXR0b25UeXBlcyA9IC9eKGJ1dHRvbnxzdWJtaXR8cmFkaW98Y2hlY2tib3h8ZmlsZXxjb2xvcnxpbWFnZSkkL2k7XHJcbiAgICBpZiAoXHJcbiAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgfHxcclxuICAgICAgaW5wdXROb2RlTmFtZXMudGVzdCh0YXJnZXQubm9kZU5hbWUpIHx8XHJcbiAgICAgIChpc05vZGVOYW1lKHRhcmdldCwgXCJpbnB1dFwiKSAmJiAhYnV0dG9uVHlwZXMudGVzdCh0YXJnZXQudHlwZSkpIHx8XHJcbiAgICAgIGlzTm9kZU5hbWUoYWN0aXZlRWxlbWVudCwgXCJ2aWRlb1wiKSB8fFxyXG4gICAgICBpc0luc2lkZVlvdXR1YmVWaWRlbyhldmVudCkgfHxcclxuICAgICAgdGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlIHx8XHJcbiAgICAgIG1vZGlmaWVyXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gW3NwYWNlYmFyXSBzaG91bGQgdHJpZ2dlciBidXR0b24gcHJlc3MsIGxlYXZlIGl0IGFsb25lXHJcbiAgICBpZiAoXHJcbiAgICAgIChpc05vZGVOYW1lKHRhcmdldCwgXCJidXR0b25cIikgfHxcclxuICAgICAgICAoaXNOb2RlTmFtZSh0YXJnZXQsIFwiaW5wdXRcIikgJiYgYnV0dG9uVHlwZXMudGVzdCh0YXJnZXQudHlwZSkpKSAmJlxyXG4gICAgICBldmVudC5rZXlDb2RlID09PSBrZXkuc3BhY2ViYXJcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBbYXJyd293IGtleXNdIG9uIHJhZGlvIGJ1dHRvbnMgc2hvdWxkIGJlIGxlZnQgYWxvbmVcclxuICAgIGlmIChcclxuICAgICAgaXNOb2RlTmFtZSh0YXJnZXQsIFwiaW5wdXRcIikgJiZcclxuICAgICAgdGFyZ2V0LnR5cGUgPT0gXCJyYWRpb1wiICYmXHJcbiAgICAgIGFycm93S2V5c1tldmVudC5rZXlDb2RlXVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzaGlmdCxcclxuICAgICAgeCA9IDAsXHJcbiAgICAgIHkgPSAwO1xyXG4gICAgdmFyIG92ZXJmbG93aW5nID0gb3ZlcmZsb3dpbmdBbmNlc3RvcihhY3RpdmVFbGVtZW50KTtcclxuXHJcbiAgICBpZiAoIW92ZXJmbG93aW5nKSB7XHJcbiAgICAgIC8vIENocm9tZSBpZnJhbWVzIHNlZW0gdG8gZWF0IGtleSBldmVudHMsIHdoaWNoIHdlIG5lZWQgdG9cclxuICAgICAgLy8gcHJvcGFnYXRlIHVwLCBpZiB0aGUgaWZyYW1lIGhhcyBub3RoaW5nIG92ZXJmbG93aW5nIHRvIHNjcm9sbFxyXG4gICAgICByZXR1cm4gaXNGcmFtZSAmJiBpc0Nocm9tZSA/IHBhcmVudC5rZXlkb3duKGV2ZW50KSA6IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGNsaWVudEhlaWdodCA9IG92ZXJmbG93aW5nLmNsaWVudEhlaWdodDtcclxuXHJcbiAgICBpZiAob3ZlcmZsb3dpbmcgPT0gZG9jdW1lbnQuYm9keSkge1xyXG4gICAgICBjbGllbnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgIGNhc2Uga2V5LnVwOlxyXG4gICAgICAgIHkgPSAtb3B0aW9ucy5hcnJvd1Njcm9sbDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBrZXkuZG93bjpcclxuICAgICAgICB5ID0gb3B0aW9ucy5hcnJvd1Njcm9sbDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBrZXkuc3BhY2ViYXI6IC8vICgrIHNoaWZ0KVxyXG4gICAgICAgIHNoaWZ0ID0gZXZlbnQuc2hpZnRLZXkgPyAxIDogLTE7XHJcbiAgICAgICAgeSA9IC1zaGlmdCAqIGNsaWVudEhlaWdodCAqIDAuOTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBrZXkucGFnZXVwOlxyXG4gICAgICAgIHkgPSAtY2xpZW50SGVpZ2h0ICogMC45O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIGtleS5wYWdlZG93bjpcclxuICAgICAgICB5ID0gY2xpZW50SGVpZ2h0ICogMC45O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIGtleS5ob21lOlxyXG4gICAgICAgIGlmIChvdmVyZmxvd2luZyA9PSBkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQpXHJcbiAgICAgICAgICBvdmVyZmxvd2luZyA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQ7XHJcbiAgICAgICAgeSA9IC1vdmVyZmxvd2luZy5zY3JvbGxUb3A7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2Uga2V5LmVuZDpcclxuICAgICAgICB2YXIgc2Nyb2xsID0gb3ZlcmZsb3dpbmcuc2Nyb2xsSGVpZ2h0IC0gb3ZlcmZsb3dpbmcuc2Nyb2xsVG9wO1xyXG4gICAgICAgIHZhciBzY3JvbGxSZW1haW5pbmcgPSBzY3JvbGwgLSBjbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgeSA9IHNjcm9sbFJlbWFpbmluZyA+IDAgPyBzY3JvbGxSZW1haW5pbmcgKyAxMCA6IDA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2Uga2V5LmxlZnQ6XHJcbiAgICAgICAgeCA9IC1vcHRpb25zLmFycm93U2Nyb2xsO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIGtleS5yaWdodDpcclxuICAgICAgICB4ID0gb3B0aW9ucy5hcnJvd1Njcm9sbDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gYSBrZXkgd2UgZG9uJ3QgY2FyZSBhYm91dFxyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbEFycmF5KG92ZXJmbG93aW5nLCB4LCB5KTtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBzY2hlZHVsZUNsZWFyQ2FjaGUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdXNlZG93biBldmVudCBvbmx5IGZvciB1cGRhdGluZyBhY3RpdmVFbGVtZW50XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbW91c2Vkb3duKGV2ZW50KSB7XHJcbiAgICBhY3RpdmVFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xyXG4gIH1cclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICogT1ZFUkZMT1dcclxuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIHZhciB1bmlxdWVJRCA9IChmdW5jdGlvbigpIHtcclxuICAgIHZhciBpID0gMDtcclxuICAgIHJldHVybiBmdW5jdGlvbihlbCkge1xyXG4gICAgICByZXR1cm4gZWwudW5pcXVlSUQgfHwgKGVsLnVuaXF1ZUlEID0gaSsrKTtcclxuICAgIH07XHJcbiAgfSkoKTtcclxuXHJcbiAgdmFyIGNhY2hlWCA9IHt9OyAvLyBjbGVhcmVkIG91dCBhZnRlciBhIHNjcm9sbGluZyBzZXNzaW9uXHJcbiAgdmFyIGNhY2hlWSA9IHt9OyAvLyBjbGVhcmVkIG91dCBhZnRlciBhIHNjcm9sbGluZyBzZXNzaW9uXHJcbiAgdmFyIGNsZWFyQ2FjaGVUaW1lcjtcclxuICB2YXIgc21vb3RoQmVoYXZpb3JGb3JFbGVtZW50ID0ge307XHJcblxyXG4gIC8vc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgeyBjYWNoZSA9IHt9OyB9LCAxMCAqIDEwMDApO1xyXG5cclxuICBmdW5jdGlvbiBzY2hlZHVsZUNsZWFyQ2FjaGUoKSB7XHJcbiAgICBjbGVhclRpbWVvdXQoY2xlYXJDYWNoZVRpbWVyKTtcclxuICAgIGNsZWFyQ2FjaGVUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICBjYWNoZVggPSBjYWNoZVkgPSBzbW9vdGhCZWhhdmlvckZvckVsZW1lbnQgPSB7fTtcclxuICAgIH0sIDEgKiAxMDAwKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldENhY2hlKGVsZW1zLCBvdmVyZmxvd2luZywgeCkge1xyXG4gICAgdmFyIGNhY2hlID0geCA/IGNhY2hlWCA6IGNhY2hlWTtcclxuICAgIGZvciAodmFyIGkgPSBlbGVtcy5sZW5ndGg7IGktLTsgKSBjYWNoZVt1bmlxdWVJRChlbGVtc1tpXSldID0gb3ZlcmZsb3dpbmc7XHJcbiAgICByZXR1cm4gb3ZlcmZsb3dpbmc7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRDYWNoZShlbCwgeCkge1xyXG4gICAgcmV0dXJuICh4ID8gY2FjaGVYIDogY2FjaGVZKVt1bmlxdWVJRChlbCldO1xyXG4gIH1cclxuXHJcbiAgLy8gIChib2R5KSAgICAgICAgICAgICAgICAocm9vdClcclxuICAvLyAgICAgICAgIHwgaGlkZGVuIHwgdmlzaWJsZSB8IHNjcm9sbCB8ICBhdXRvICB8XHJcbiAgLy8gaGlkZGVuICB8ICAgbm8gICB8ICAgIG5vICAgfCAgIFlFUyAgfCAgIFlFUyAgfFxyXG4gIC8vIHZpc2libGUgfCAgIG5vICAgfCAgIFlFUyAgIHwgICBZRVMgIHwgICBZRVMgIHxcclxuICAvLyBzY3JvbGwgIHwgICBubyAgIHwgICBZRVMgICB8ICAgWUVTICB8ICAgWUVTICB8XHJcbiAgLy8gYXV0byAgICB8ICAgbm8gICB8ICAgWUVTICAgfCAgIFlFUyAgfCAgIFlFUyAgfFxyXG5cclxuICBmdW5jdGlvbiBvdmVyZmxvd2luZ0FuY2VzdG9yKGVsKSB7XHJcbiAgICB2YXIgZWxlbXMgPSBbXTtcclxuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuICAgIHZhciByb290U2Nyb2xsSGVpZ2h0ID0gcm9vdC5zY3JvbGxIZWlnaHQ7XHJcbiAgICBkbyB7XHJcbiAgICAgIHZhciBjYWNoZWQgPSBnZXRDYWNoZShlbCwgZmFsc2UpO1xyXG4gICAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHNldENhY2hlKGVsZW1zLCBjYWNoZWQpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsZW1zLnB1c2goZWwpO1xyXG4gICAgICBpZiAocm9vdFNjcm9sbEhlaWdodCA9PT0gZWwuc2Nyb2xsSGVpZ2h0KSB7XHJcbiAgICAgICAgdmFyIHRvcE92ZXJmbG93c05vdEhpZGRlbiA9XHJcbiAgICAgICAgICBvdmVyZmxvd05vdEhpZGRlbihyb290KSAmJiBvdmVyZmxvd05vdEhpZGRlbihib2R5KTtcclxuICAgICAgICB2YXIgaXNPdmVyZmxvd0NTUyA9IHRvcE92ZXJmbG93c05vdEhpZGRlbiB8fCBvdmVyZmxvd0F1dG9PclNjcm9sbChyb290KTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAoaXNGcmFtZSAmJiBpc0NvbnRlbnRPdmVyZmxvd2luZyhyb290KSkgfHxcclxuICAgICAgICAgICghaXNGcmFtZSAmJiBpc092ZXJmbG93Q1NTKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmV0dXJuIHNldENhY2hlKGVsZW1zLCBnZXRTY3JvbGxSb290KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChpc0NvbnRlbnRPdmVyZmxvd2luZyhlbCkgJiYgb3ZlcmZsb3dBdXRvT3JTY3JvbGwoZWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIHNldENhY2hlKGVsZW1zLCBlbCk7XHJcbiAgICAgIH1cclxuICAgIH0gd2hpbGUgKChlbCA9IGVsLnBhcmVudEVsZW1lbnQpKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzQ29udGVudE92ZXJmbG93aW5nKGVsKSB7XHJcbiAgICByZXR1cm4gZWwuY2xpZW50SGVpZ2h0ICsgMTAgPCBlbC5zY3JvbGxIZWlnaHQ7XHJcbiAgfVxyXG5cclxuICAvLyB0eXBpY2FsbHkgZm9yIDxib2R5PiBhbmQgPGh0bWw+XHJcbiAgZnVuY3Rpb24gb3ZlcmZsb3dOb3RIaWRkZW4oZWwpIHtcclxuICAgIHZhciBvdmVyZmxvdyA9IGdldENvbXB1dGVkU3R5bGUoZWwsIFwiXCIpLmdldFByb3BlcnR5VmFsdWUoXCJvdmVyZmxvdy15XCIpO1xyXG4gICAgcmV0dXJuIG92ZXJmbG93ICE9PSBcImhpZGRlblwiO1xyXG4gIH1cclxuXHJcbiAgLy8gZm9yIGFsbCBvdGhlciBlbGVtZW50c1xyXG4gIGZ1bmN0aW9uIG92ZXJmbG93QXV0b09yU2Nyb2xsKGVsKSB7XHJcbiAgICB2YXIgb3ZlcmZsb3cgPSBnZXRDb21wdXRlZFN0eWxlKGVsLCBcIlwiKS5nZXRQcm9wZXJ0eVZhbHVlKFwib3ZlcmZsb3cteVwiKTtcclxuICAgIHJldHVybiBvdmVyZmxvdyA9PT0gXCJzY3JvbGxcIiB8fCBvdmVyZmxvdyA9PT0gXCJhdXRvXCI7XHJcbiAgfVxyXG5cclxuICAvLyBmb3IgYWxsIG90aGVyIGVsZW1lbnRzXHJcbiAgZnVuY3Rpb24gaXNTY3JvbGxCZWhhdmlvclNtb290aChlbCkge1xyXG4gICAgdmFyIGlkID0gdW5pcXVlSUQoZWwpO1xyXG4gICAgaWYgKHNtb290aEJlaGF2aW9yRm9yRWxlbWVudFtpZF0gPT0gbnVsbCkge1xyXG4gICAgICB2YXIgc2Nyb2xsQmVoYXZpb3IgPSBnZXRDb21wdXRlZFN0eWxlKGVsLCBcIlwiKVtcInNjcm9sbC1iZWhhdmlvclwiXTtcclxuICAgICAgc21vb3RoQmVoYXZpb3JGb3JFbGVtZW50W2lkXSA9IFwic21vb3RoXCIgPT0gc2Nyb2xsQmVoYXZpb3I7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc21vb3RoQmVoYXZpb3JGb3JFbGVtZW50W2lkXTtcclxuICB9XHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAqIEhFTFBFUlNcclxuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIGZ1bmN0aW9uIGFkZEV2ZW50KHR5cGUsIGZuLCBhcmcpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuLCBhcmcgfHwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlRXZlbnQodHlwZSwgZm4sIGFyZykge1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGFyZyB8fCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc05vZGVOYW1lKGVsLCB0YWcpIHtcclxuICAgIHJldHVybiBlbCAmJiAoZWwubm9kZU5hbWUgfHwgXCJcIikudG9Mb3dlckNhc2UoKSA9PT0gdGFnLnRvTG93ZXJDYXNlKCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBkaXJlY3Rpb25DaGVjayh4LCB5KSB7XHJcbiAgICB4ID0geCA+IDAgPyAxIDogLTE7XHJcbiAgICB5ID0geSA+IDAgPyAxIDogLTE7XHJcbiAgICBpZiAoZGlyZWN0aW9uLnggIT09IHggfHwgZGlyZWN0aW9uLnkgIT09IHkpIHtcclxuICAgICAgZGlyZWN0aW9uLnggPSB4O1xyXG4gICAgICBkaXJlY3Rpb24ueSA9IHk7XHJcbiAgICAgIHF1ZSA9IFtdO1xyXG4gICAgICBsYXN0U2Nyb2xsID0gMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlICYmIGxvY2FsU3RvcmFnZS5TU19kZWx0YUJ1ZmZlcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gIzQ2IFNhZmFyaSB0aHJvd3MgaW4gcHJpdmF0ZSBicm93c2luZyBmb3IgbG9jYWxTdG9yYWdlXHJcbiAgICAgIGRlbHRhQnVmZmVyID0gbG9jYWxTdG9yYWdlLlNTX2RlbHRhQnVmZmVyLnNwbGl0KFwiLFwiKTtcclxuICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1RvdWNocGFkKGRlbHRhWSkge1xyXG4gICAgaWYgKCFkZWx0YVkpIHJldHVybjtcclxuICAgIGlmICghZGVsdGFCdWZmZXIubGVuZ3RoKSB7XHJcbiAgICAgIGRlbHRhQnVmZmVyID0gW2RlbHRhWSwgZGVsdGFZLCBkZWx0YVldO1xyXG4gICAgfVxyXG4gICAgZGVsdGFZID0gTWF0aC5hYnMoZGVsdGFZKTtcclxuICAgIGRlbHRhQnVmZmVyLnB1c2goZGVsdGFZKTtcclxuICAgIGRlbHRhQnVmZmVyLnNoaWZ0KCk7XHJcbiAgICBjbGVhclRpbWVvdXQoZGVsdGFCdWZmZXJUaW1lcik7XHJcbiAgICBkZWx0YUJ1ZmZlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyAjNDYgU2FmYXJpIHRocm93cyBpbiBwcml2YXRlIGJyb3dzaW5nIGZvciBsb2NhbFN0b3JhZ2VcclxuICAgICAgICBsb2NhbFN0b3JhZ2UuU1NfZGVsdGFCdWZmZXIgPSBkZWx0YUJ1ZmZlci5qb2luKFwiLFwiKTtcclxuICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgIH0sIDEwMDApO1xyXG4gICAgdmFyIGRwaVNjYWxlZFdoZWVsRGVsdGEgPSBkZWx0YVkgPiAxMjAgJiYgYWxsRGVsdGFzRGl2aXNhYmxlQnkoZGVsdGFZKTsgLy8gd2luNjRcclxuICAgIHJldHVybiAoXHJcbiAgICAgICFhbGxEZWx0YXNEaXZpc2FibGVCeSgxMjApICYmXHJcbiAgICAgICFhbGxEZWx0YXNEaXZpc2FibGVCeSgxMDApICYmXHJcbiAgICAgICFkcGlTY2FsZWRXaGVlbERlbHRhXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNEaXZpc2libGUobiwgZGl2aXNvcikge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IobiAvIGRpdmlzb3IpID09IG4gLyBkaXZpc29yO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYWxsRGVsdGFzRGl2aXNhYmxlQnkoZGl2aXNvcikge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgaXNEaXZpc2libGUoZGVsdGFCdWZmZXJbMF0sIGRpdmlzb3IpICYmXHJcbiAgICAgIGlzRGl2aXNpYmxlKGRlbHRhQnVmZmVyWzFdLCBkaXZpc29yKSAmJlxyXG4gICAgICBpc0RpdmlzaWJsZShkZWx0YUJ1ZmZlclsyXSwgZGl2aXNvcilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc0luc2lkZVlvdXR1YmVWaWRlbyhldmVudCkge1xyXG4gICAgdmFyIGVsZW0gPSBldmVudC50YXJnZXQ7XHJcbiAgICB2YXIgaXNDb250cm9sID0gZmFsc2U7XHJcbiAgICBpZiAoZG9jdW1lbnQuVVJMLmluZGV4T2YoXCJ3d3cueW91dHViZS5jb20vd2F0Y2hcIikgIT0gLTEpIHtcclxuICAgICAgZG8ge1xyXG4gICAgICAgIGlzQ29udHJvbCA9XHJcbiAgICAgICAgICBlbGVtLmNsYXNzTGlzdCAmJiBlbGVtLmNsYXNzTGlzdC5jb250YWlucyhcImh0bWw1LXZpZGVvLWNvbnRyb2xzXCIpO1xyXG4gICAgICAgIGlmIChpc0NvbnRyb2wpIGJyZWFrO1xyXG4gICAgICB9IHdoaWxlICgoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzQ29udHJvbDtcclxuICB9XHJcblxyXG4gIHZhciByZXF1ZXN0RnJhbWUgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICBmdW5jdGlvbihjYWxsYmFjaywgZWxlbWVudCwgZGVsYXkpIHtcclxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkgfHwgMTAwMCAvIDYwKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9KSgpO1xyXG5cclxuICB2YXIgTXV0YXRpb25PYnNlcnZlciA9XHJcbiAgICB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fFxyXG4gICAgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIgfHxcclxuICAgIHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyO1xyXG5cclxuICB2YXIgZ2V0U2Nyb2xsUm9vdCA9IChmdW5jdGlvbigpIHtcclxuICAgIHZhciBTQ1JPTExfUk9PVCA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQ7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICghU0NST0xMX1JPT1QpIHtcclxuICAgICAgICB2YXIgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGR1bW15LnN0eWxlLmNzc1RleHQgPSBcImhlaWdodDoxMDAwMHB4O3dpZHRoOjFweDtcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGR1bW15KTtcclxuICAgICAgICB2YXIgYm9keVNjcm9sbFRvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xyXG4gICAgICAgIHZhciBkb2NFbFNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbEJ5KDAsIDMpO1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCAhPSBib2R5U2Nyb2xsVG9wKVxyXG4gICAgICAgICAgU0NST0xMX1JPT1QgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgIGVsc2UgU0NST0xMX1JPT1QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbEJ5KDAsIC0zKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGR1bW15KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gU0NST0xMX1JPT1Q7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAqIFBVTFNFIChieSBNaWNoYWVsIEhlcmYpXHJcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvKipcclxuICAgKiBWaXNjb3VzIGZsdWlkIHdpdGggYSBwdWxzZSBmb3IgcGFydCBhbmQgZGVjYXkgZm9yIHRoZSByZXN0LlxyXG4gICAqIC0gQXBwbGllcyBhIGZpeGVkIGZvcmNlIG92ZXIgYW4gaW50ZXJ2YWwgKGEgZGFtcGVkIGFjY2VsZXJhdGlvbiksIGFuZFxyXG4gICAqIC0gTGV0cyB0aGUgZXhwb25lbnRpYWwgYmxlZWQgYXdheSB0aGUgdmVsb2NpdHkgb3ZlciBhIGxvbmdlciBpbnRlcnZhbFxyXG4gICAqIC0gTWljaGFlbCBIZXJmLCBodHRwOi8vc3RlcmVvcHNpcy5jb20vc3RvcHBpbmcvXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcHVsc2VfKHgpIHtcclxuICAgIHZhciB2YWwsIHN0YXJ0LCBleHB4O1xyXG4gICAgLy8gdGVzdFxyXG4gICAgeCA9IHggKiBvcHRpb25zLnB1bHNlU2NhbGU7XHJcbiAgICBpZiAoeCA8IDEpIHtcclxuICAgICAgLy8gYWNjZWxlYXJ0aW9uXHJcbiAgICAgIHZhbCA9IHggLSAoMSAtIE1hdGguZXhwKC14KSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyB0YWlsXHJcbiAgICAgIC8vIHRoZSBwcmV2aW91cyBhbmltYXRpb24gZW5kZWQgaGVyZTpcclxuICAgICAgc3RhcnQgPSBNYXRoLmV4cCgtMSk7XHJcbiAgICAgIC8vIHNpbXBsZSB2aXNjb3VzIGRyYWdcclxuICAgICAgeCAtPSAxO1xyXG4gICAgICBleHB4ID0gMSAtIE1hdGguZXhwKC14KTtcclxuICAgICAgdmFsID0gc3RhcnQgKyBleHB4ICogKDEgLSBzdGFydCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsICogb3B0aW9ucy5wdWxzZU5vcm1hbGl6ZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHB1bHNlKHgpIHtcclxuICAgIGlmICh4ID49IDEpIHJldHVybiAxO1xyXG4gICAgaWYgKHggPD0gMCkgcmV0dXJuIDA7XHJcblxyXG4gICAgaWYgKG9wdGlvbnMucHVsc2VOb3JtYWxpemUgPT0gMSkge1xyXG4gICAgICBvcHRpb25zLnB1bHNlTm9ybWFsaXplIC89IHB1bHNlXygxKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwdWxzZV8oeCk7XHJcbiAgfVxyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgKiBGSVJTVCBSVU5cclxuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIHZhciB1c2VyQWdlbnQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuICB2YXIgaXNFZGdlID0gL0VkZ2UvLnRlc3QodXNlckFnZW50KTsgLy8gdGhhbmsgeW91IE1TXHJcbiAgdmFyIGlzQ2hyb21lID0gL2Nocm9tZS9pLnRlc3QodXNlckFnZW50KSAmJiAhaXNFZGdlO1xyXG4gIHZhciBpc1NhZmFyaSA9IC9zYWZhcmkvaS50ZXN0KHVzZXJBZ2VudCkgJiYgIWlzRWRnZTtcclxuICB2YXIgaXNNb2JpbGUgPSAvbW9iaWxlL2kudGVzdCh1c2VyQWdlbnQpO1xyXG4gIHZhciBpc0lFV2luNyA9IC9XaW5kb3dzIE5UIDYuMS9pLnRlc3QodXNlckFnZW50KSAmJiAvcnY6MTEvaS50ZXN0KHVzZXJBZ2VudCk7XHJcbiAgdmFyIGlzT2xkU2FmYXJpID1cclxuICAgIGlzU2FmYXJpICYmXHJcbiAgICAoL1ZlcnNpb25cXC84L2kudGVzdCh1c2VyQWdlbnQpIHx8IC9WZXJzaW9uXFwvOS9pLnRlc3QodXNlckFnZW50KSk7XHJcbiAgdmFyIGlzRW5hYmxlZEZvckJyb3dzZXIgPSAoaXNDaHJvbWUgfHwgaXNTYWZhcmkgfHwgaXNJRVdpbjcpICYmICFpc01vYmlsZTtcclxuXHJcbiAgdmFyIHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xyXG4gIHRyeSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJ0ZXN0XCIsXHJcbiAgICAgIG51bGwsXHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJwYXNzaXZlXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH0gY2F0Y2ggKGUpIHt9XHJcblxyXG4gIHZhciB3aGVlbE9wdCA9IHN1cHBvcnRzUGFzc2l2ZSA/IHsgcGFzc2l2ZTogZmFsc2UgfSA6IGZhbHNlO1xyXG4gIHZhciB3aGVlbEV2ZW50ID1cclxuICAgIFwib253aGVlbFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgPyBcIndoZWVsXCIgOiBcIm1vdXNld2hlZWxcIjtcclxuXHJcbiAgaWYgKHdoZWVsRXZlbnQgJiYgaXNFbmFibGVkRm9yQnJvd3Nlcikge1xyXG4gICAgYWRkRXZlbnQod2hlZWxFdmVudCwgd2hlZWwsIHdoZWVsT3B0KTtcclxuICAgIGFkZEV2ZW50KFwibW91c2Vkb3duXCIsIG1vdXNlZG93bik7XHJcbiAgICBhZGRFdmVudChcImxvYWRcIiwgaW5pdCk7XHJcbiAgfVxyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgKiBQVUJMSUMgSU5URVJGQUNFXHJcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICBmdW5jdGlvbiBTbW9vdGhTY3JvbGwob3B0aW9uc1RvU2V0KSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9uc1RvU2V0KVxyXG4gICAgICBpZiAoZGVmYXVsdE9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkgb3B0aW9uc1trZXldID0gb3B0aW9uc1RvU2V0W2tleV07XHJcbiAgfVxyXG4gIFNtb290aFNjcm9sbC5kZXN0cm95ID0gY2xlYW51cDtcclxuXHJcbiAgaWYgKHdpbmRvdy5TbW9vdGhTY3JvbGxPcHRpb25zKVxyXG4gICAgLy8gYXN5bmMgQVBJXHJcbiAgICBTbW9vdGhTY3JvbGwod2luZG93LlNtb290aFNjcm9sbE9wdGlvbnMpO1xyXG5cclxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpXHJcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBTbW9vdGhTY3JvbGw7XHJcbiAgICB9KTtcclxuICBlbHNlIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBleHBvcnRzKSBtb2R1bGUuZXhwb3J0cyA9IFNtb290aFNjcm9sbDtcclxuICBlbHNlIHdpbmRvdy5TbW9vdGhTY3JvbGwgPSBTbW9vdGhTY3JvbGw7XHJcbn0pKCk7XHJcbiIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gIGNvbnN0IG5hdl9tZW51ID0gJChcIi5uYXZpZ2F0aW9uX21lbnVcIik7XHJcbiAgY29uc3QgbmF2X2JhciA9ICQoXCIubmF2aWdhdGlvbl9iYXJcIik7XHJcblxyXG4gIC8vaGFtYnVyZ2VyXHJcbiAgbmF2X2Jhci5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJuYXZpZ2F0aW9uX2Jhci0tb3BlblwiKTtcclxuICAgIG5hdl9tZW51LnRvZ2dsZSgpO1xyXG4gIH0pO1xyXG5cclxuICBvblJlc2l6ZSgpO1xyXG4gICQod2luZG93KS5vbihcInJlc2l6ZVwiLCBvblJlc2l6ZSk7XHJcbiAgJChkb2N1bWVudCkub24oXCJzY3JvbGxcIiwgb25TY3JvbGwpO1xyXG5cclxuICAvL3Ntb290aHNjcm9sbFxyXG4gICQoJ2FbaHJlZl49XCIjXCJdJykub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKGRvY3VtZW50KS5vZmYoXCJzY3JvbGxcIik7XHJcbiAgICBvblJlc2l6ZSgpO1xyXG4gICAgbmF2X2Jhci5yZW1vdmVDbGFzcyhcIm5hdmlnYXRpb25fYmFyLS1vcGVuXCIpO1xyXG4gICAgJChcImFcIikuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgJCh0aGlzKVxyXG4gICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgIC5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICQodGhpcylcclxuICAgICAgLnBhcmVudCgpXHJcbiAgICAgIC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICBsZXQgdGFyZ2V0ID0gdGhpcy5oYXNoO1xyXG4gICAgbGV0ICR0YXJnZXQgPSAkKHRhcmdldCkub2Zmc2V0KCkudG9wIC0gNzA7XHJcblxyXG4gICAgJChcImh0bWwsIGJvZHlcIilcclxuICAgICAgLnN0b3AoKVxyXG4gICAgICAuYW5pbWF0ZShcclxuICAgICAgICB7XHJcbiAgICAgICAgICBzY3JvbGxUb3A6ICR0YXJnZXRcclxuICAgICAgICB9LFxyXG4gICAgICAgIDUwMCxcclxuICAgICAgICBcInN3aW5nXCIsXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkKGRvY3VtZW50KS5vbihcInNjcm9sbFwiLCBvblNjcm9sbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gIH0pO1xyXG4gICQoXCIubmF2aWdhdGlvbl9zY3JvbGxUb3BcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAkKFwiLm5hdmlnYXRpb25fc2Nyb2xsVG9wXCIpLmhpZGUoKTtcclxuICAgICQoJ2FbaHJlZj1cIiNoZWFkZXJcIl0nKVxyXG4gICAgICAucGFyZW50KClcclxuICAgICAgLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgJCgnYVtocmVmPVwiI2hlYWRlclwiXScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIG9uUmVzaXplKGV2ZW50KSB7XHJcbiAgY29uc3Qgd2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcclxuICBjb25zdCBuYXZfYmFyID0gJChcIi5uYXZpZ2F0aW9uX2JhclwiKTtcclxuICBjb25zdCBuYXZfbWVudSA9ICQoXCIubmF2aWdhdGlvbl9tZW51XCIpO1xyXG5cclxuICBpZiAod2lkdGggPCA4MDApIHtcclxuICAgIG5hdl9tZW51LmhpZGUoKTtcclxuICAgIG5hdl9iYXIuc2hvdygpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBuYXZfbWVudS5zaG93KCk7XHJcbiAgICBuYXZfYmFyLmhpZGUoKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uU2Nyb2xsKGV2ZW50KSB7XHJcbiAgbGV0IHNjcm9sbFBvcyA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpO1xyXG5cclxuICBpZiAoc2Nyb2xsUG9zIDwgMTAwKSB7XHJcbiAgICAkKFwiLm5hdmlnYXRpb25fc2Nyb2xsVG9wXCIpLmhpZGUoKTtcclxuICB9XHJcbiAgaWYgKHNjcm9sbFBvcyA+IDEwMCkge1xyXG4gICAgJChcIi5uYXZpZ2F0aW9uX3Njcm9sbFRvcFwiKS5zaG93KCk7XHJcbiAgfVxyXG5cclxuICAkKFwiLm5hdmlnYXRpb25faXRlbXMgYVwiKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGN1cnJMaW5rID0gJCh0aGlzKTtcclxuICAgIGlmIChjdXJyTGlua1swXS5wYXRobmFtZSAhPT0gXCIvXCIpIHJldHVybjtcclxuICAgIGxldCByZWZFbGVtZW50ID0gJChjdXJyTGluay5hdHRyKFwiaHJlZlwiKSk7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICByZWZFbGVtZW50LnBvc2l0aW9uKCkudG9wIC0gNzAgPD0gc2Nyb2xsUG9zICYmXHJcbiAgICAgIHJlZkVsZW1lbnQucG9zaXRpb24oKS50b3AgKyByZWZFbGVtZW50LmhlaWdodCgpID49IHNjcm9sbFBvc1xyXG4gICAgKSB7XHJcbiAgICAgICQoXCIubmF2aWdhdGlvbl9pdGVtcyB1bCBsaSBhXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICBjdXJyTGluay5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN1cnJMaW5rLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiOyIsIlwidXNlIHN0cmljdFwiOyJdfQ==
